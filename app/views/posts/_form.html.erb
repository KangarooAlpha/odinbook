<fieldset class="fieldset flex bg-neutral rounded-xl p-6 g-6 justify-center" >
    <%= form_with model: post, data: { turbo_frame: dom_id(post) }, multipart: true do |f| %>
        <%= hidden_field_tag :context, @context %>

        <% if post.errors.any? %>
            <div class="alert alert-error shadow-sm">
                <div>
                <strong><%= pluralize(post.errors.count, "error") %> prevented this post from being saved:</strong>
                <ul class="list-disc list-inside mt-2 text-sm">
                    <% post.errors.full_messages.each do |msg| %>
                    <li><%= msg %></li>
                    <% end %>
                </ul>
                </div>
            </div>
            <% end %>
            
        <div class="my-2">
            <%= f.label :title, class:"label" %>
            <%= f.text_field :title, class:"input w-full" %>
        </div>
        <div class="my-2">
            <%= label_tag :body, "Text Content", class:"label" %>
            <%= text_area_tag :body, nil, class: "textarea w-full" %>
        </div>
        <div class="my-2">
            <%= label_tag :images, "Upload Image(s)", class:"label" %>
            <%= file_field_tag :images, multiple: true, accept: "image/*", name: "images[]", class:"file-input file-input-xs w-full" %>
        </div class="my-2">
        <div class="g-6">
            <%= label_tag :video, "Upload Video", class:"label"%>
            <%= file_field_tag :video, accept: "video/*", class:"file-input file-input-xs w-full" %>
        </div>
        <div class="my-2 g-6 p-2 justify-center flex" >
            <%= f.submit class: "btn btn-sm btn-success mr-2"%>
            <% if context == "post" %>
                <%= link_to "Cancel", post_path(post), class: "btn btn-sm btn-error"%>
            <% elsif context == "useer"%>
                <%= link_to "Cancel", user_path(user), class: "btn btn-sm btn-error"%>
            <% else %>
                <%= link_to "Cancel", users_path, class: "btn btn-sm btn-error"%>
            <% end %>
        </div>
    <% end %>
</fieldset>
